import{d as N,g as C,r as U,K as E,h as p,i as v,j as w,c as l,k as o,l as s,m as d,b as c,M as k,N as P,O as F,n as I,t as y,Q as L,R as S,S as A,T as D,U as K}from"./index-84848299.js";const Q={class:"scroll-y"},X=s("h3",null,"Webdav服务配置",-1),G=s("br",null,null,-1),J={class:"scroll-y"},Y=s("span",{color:"gray",style:{"font-size":"12px","margin-left":"12px"}},"修改后重启生效",-1),Z={class:"dialog-footer"},ee={class:"card-header",style:{height:"35px"}},le={style:{"margin-top":"10px"}},ae=s("br",null,null,-1),oe={style:{clear:"both"}},te=s("span",{color:"gray",style:{"font-size":"12px","margin-left":"12px"}},"新增后重启生效",-1),se=N({}),re=Object.assign(se,{__name:"index",setup(ne){const m=C(!1),h=U([]),t=U({}),x={name:"webdav",path:"/webdav/*",describe:"webdav服务",serverHost:"192.168.1.100",serverPort:"5244",https:!1,enable:!0,passwdList:[{id:Math.random(),password:"123456",encType:"rc4",enable:!1,describe:"my video",encPath:"/aliyun/encrypt/*"}]};Object.assign(t,x),C();const T=()=>{t.passwdList.push({id:Math.random(),password:"123456",encType:"mix",enable:!0,describe:"my video",encPath:"/dav/encrypt/*"})},W=n=>{t.passwdList.splice(n,1)},M=n=>{m.value=!0,Object.assign(t,n)},R=()=>{m.value=!0,Object.assign(t,x)},$=async n=>{const a=await L(n);m.value=!1,V(a)},j=async()=>{let n=null;t.id?n=await L(t):n=await S(t),m.value=!1,V(n)},z=async n=>{A.confirm("Are you sure to delete?").then(async()=>{const a=await D({id:n});V(a),m.value=!1})},V=async n=>{const a=n||await K();h.splice(0,h.length),a.data.forEach(i=>{const r=i.passwdList;for(const b of r)b.id=Math.random();h.push(i)})};return E(async()=>{V()}),(n,a)=>{const i=p("el-input"),r=p("el-form-item"),b=p("el-switch"),f=p("el-button"),g=p("el-radio"),B=p("el-radio-group"),O=p("el-form"),q=p("el-dialog"),H=p("el-card");return v(),w("div",Q,[X,G,l(q,{modelValue:m.value,"onUpdate:modelValue":a[7]||(a[7]=e=>m.value=e),title:"配置信息",style:{"min-width":"320px"}},{default:o(()=>[s("div",J,[l(O,{model:d(t)},{default:o(()=>[l(r,{prop:"username",label:"服务名称"},{default:o(()=>[l(i,{modelValue:d(t).name,"onUpdate:modelValue":a[0]||(a[0]=e=>d(t).name=e),style:{"max-width":"260px"},placeholder:"127.0.0.1"},null,8,["modelValue"])]),_:1}),l(r,{prop:"username",label:"服务器"},{default:o(()=>[l(i,{modelValue:d(t).serverHost,"onUpdate:modelValue":a[1]||(a[1]=e=>d(t).serverHost=e),style:{"max-width":"260px"},placeholder:"127.0.0.1"},null,8,["modelValue"])]),_:1}),l(r,{prop:"password",label:"端口"},{default:o(()=>[l(i,{modelValue:d(t).serverPort,"onUpdate:modelValue":a[2]||(a[2]=e=>d(t).serverPort=e),style:{"max-width":"260px"},placeholder:"5244"},null,8,["modelValue"])]),_:1}),l(r,{prop:"password",label:"主目录"},{default:o(()=>[l(i,{modelValue:d(t).path,"onUpdate:modelValue":a[3]||(a[3]=e=>d(t).path=e),style:{"max-width":"260px"},placeholder:"5244"},null,8,["modelValue"]),Y]),_:1}),l(r,{prop:"enable",label:"开启"},{default:o(()=>[l(b,{modelValue:d(t).enable,"onUpdate:modelValue":a[4]||(a[4]=e=>d(t).enable=e),class:"ml-2",style:{"margin-bottom":"5px","--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue"])]),_:1}),l(r,{label:"密码设置"},{default:o(()=>[l(f,{type:"success",onClick:T},{default:o(()=>[c("添加")]),_:1})]),_:1}),(v(!0),w(k,null,P(d(t).passwdList,(e,_)=>(v(),w("div",{key:e.id},[l(B,{modelValue:e.encType,"onUpdate:modelValue":u=>e.encType=u,style:{margin:"0 25px"},size:"small"},{default:o(()=>[l(g,{label:"mix",border:""},{default:o(()=>[c("MIX")]),_:1}),l(g,{label:"rc4",border:""},{default:o(()=>[c("RC4")]),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"]),c(" 开启 "),l(b,{modelValue:e.enable,"onUpdate:modelValue":u=>e.enable=u,class:"ml-2",style:{"--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue","onUpdate:modelValue"]),l(f,{type:"danger",style:{margin:"5px 20px"},icon:d(F),circle:"",onClick:u=>W(_)},null,8,["icon","onClick"]),l(r,{label:"密码"},{default:o(()=>[l(i,{modelValue:e.password,"onUpdate:modelValue":u=>e.password=u,style:{"max-width":"260px","margin-right":"10px"},placeholder:"12341234"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(r,{label:"备注"},{default:o(()=>[l(i,{modelValue:e.describe,"onUpdate:modelValue":u=>e.describe=u,style:{"max-width":"260px","margin-right":"10px"},placeholder:"备注描述"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(r,{label:"路径"},{default:o(()=>[l(i,{modelValue:e.encPath,"onUpdate:modelValue":u=>e.encPath=u,style:{"max-width":"350px","margin-right":"10px"},placeholder:"多个路径逗号，隔开"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]))),128))]),_:1},8,["model"]),s("span",Z,[l(f,{onClick:a[5]||(a[5]=e=>m.value=!1)},{default:o(()=>[c("取消")]),_:1}),l(f,{type:"primary",onClick:a[6]||(a[6]=e=>j())},{default:o(()=>[c("保存")]),_:1})])])]),_:1},8,["modelValue"]),s("div",null,[(v(!0),w(k,null,P(d(h),e=>(v(),I(H,{key:e.id,style:{width:"250px",margin:"10px",float:"left"},class:"box-card"},{default:o(()=>[s("div",ee,[l(b,{modelValue:e.enable,"onUpdate:modelValue":_=>e.enable=_,onClick:_=>$(e),class:"ml-2",style:{float:"right","--el-switch-on-color":"#13ce66","--el-switch-off-color":"#ff4949"}},null,8,["modelValue","onUpdate:modelValue","onClick"]),s("span",le,y(e.name),1)]),s("div",null,"服务: "+y(e.serverHost),1),s("div",null,"端口: "+y(e.serverPort),1),s("div",null,"路径: "+y(e.path),1),s("div",null,"描述: "+y(e.describe),1),ae,l(f,{type:"danger",size:"small",onClick:_=>z(e.id)},{default:o(()=>[c("删除")]),_:2},1032,["onClick"]),l(f,{type:"primary",size:"small",onClick:_=>M(e)},{default:o(()=>[c("编辑")]),_:2},1032,["onClick"])]),_:2},1024))),128))]),s("div",oe,[l(f,{type:"success",onClick:R},{default:o(()=>[c("添加配置")]),_:1}),te])])}}});export{re as default};
